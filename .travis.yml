language: python
python:
    - "2.7"
env:
    - SUPERVISOR_PYTHON_VERSION=2.7
install:
    - pip install -e .
    - pip install -e .[tests]
    - ./install_supervisor.sh
script:
    - pre-commit run --all
    - python setup.py test
sudo: false
deploy:
  provider: pypi
  user: wouter@vanbommelonline.nl
  password:
    secure: "XTQjLtVHZO+XX74si9nUf8z1EW/XKBPquwRA1xipTlaktfhQwz85fVdadsx0EPpOjorhCnZMZJ73hiYE9y2LfHHL4ECp+0pUGzXJdGCRZWKI7g9Kcv8ICu0SmjgUDwyHhW5Ft36Ye4IHr1HTb80BYjHVs/pkpQF7Wwm4TexK/APT1IT4E5LIPaYGnukEHIGn3esJdd1ypKk0SztS9ka5HGNlh+yM5VhAsH0qJSFd7hBO9NRHj7ygZXHRP6qgTuToX8VKhpD9fqisL0imDijEvTHWLktlkvJLI6i3X5le9g2CZJuhpf2XVPPZ40KURb88uZRNlkjPWsS8GTmFlwgH5fqimTl/GLkv1+zlDipCA/Z4oKh8nCgW6sfX2a3qYuHKUpMfcaTPFJQnGbuMd+9BxY2Js86+phgPySXbJut3AfSz1aHr/H48nWHvhNzUfeFEHoeTEmZmEarUKdMY3qsvpuoEaCrJ2jPVVeIyuufkjssOy2Dvongm8dcP8hj6MKcUhP9bEjRHXzOEhiD6Y1WRENDRN2o8mmwfQy6TSAZ/djnXG1wtl7GadJBtDd6emT2ot2sL4Q7bSx/oR01A+6j7VRjHHXFQDBvei+RQrPTCqvL68BtKkokS863CAk8iIJuX+LWVLoygz3ryuOk6BIiEkuZla/TwQhRnV6R5PoD2R6M="
  on:
    tags: true
